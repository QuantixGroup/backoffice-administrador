const B=(s,e=4e3)=>{let t=document.getElementById("successNotification"),o=document.getElementById("successMessage");if(t&&o){o.textContent=s,t.style.display="block",setTimeout(()=>t.style.display="none",e);return}t=document.createElement("div"),t.className="success-notification show",t.innerHTML=`<i class="fas fa-check-circle" style="margin-right:0.5rem"></i><span class="js-temp-success">${s}</span>`,document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.remove()},e)},p=(s,e="success",t=4e3)=>{const o=document.createElement("div");o.className="success-notification";const a={success:"#28a745",danger:"#dc3545",warning:"#ffc107",info:"#17a2b8"},n={success:"fa-check-circle",danger:"fa-exclamation-circle",warning:"fa-exclamation-triangle",info:"fa-info-circle"};o.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: ${a[e]||a.success};
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 0.375rem;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        z-index: 1060;
        display: flex;
        align-items: center;
        min-width: 300px;
        animation: slideInRight 0.3s ease-out;
    `,o.innerHTML=`
        <i class="fas ${n[e]||n.success}" style="margin-right: 0.5rem; font-size: 1.2rem;"></i>
        <span>${s}</span>
    `,document.body.appendChild(o),setTimeout(()=>{o.parentNode&&o.remove()},t)},A=()=>{const s=document.querySelector('meta[name="csrf-token"]');return s?s.getAttribute("content"):""},C=async(s,e)=>{if(s.status===401)return p((e==null?void 0:e.message)||"La contrase√±a actual es incorrecta","danger"),!0;if(s.status===422){const t=(e==null?void 0:e.errors)||{},o=[];Object.keys(t).forEach(n=>{Array.isArray(t[n])&&o.push(...t[n])});const a=o.length?o.join(". "):(e==null?void 0:e.message)||"Error de validaci√≥n";return p(a,"danger"),!0}return s.status>=500?(p((e==null?void 0:e.message)||"Error del servidor. Intente nuevamente.","danger"),!0):s.ok?!1:(p((e==null?void 0:e.message)||"Ocurri√≥ un error inesperado","danger"),!0)},S=()=>{document.querySelectorAll(".toggle-password").forEach(e=>{e.addEventListener("click",function(t){const o=e.getAttribute("data-target");if(!o)return;const a=document.querySelector(o);if(a)if(a.type==="password"){a.type="text";const n=e.querySelector("i");n&&(n.classList.remove("fa-eye"),n.classList.add("fa-eye-slash")),e.setAttribute("aria-label","Ocultar contrase√±a")}else{a.type="password";const n=e.querySelector("i");n&&(n.classList.remove("fa-eye-slash"),n.classList.add("fa-eye")),e.setAttribute("aria-label","Mostrar contrase√±a")}})})},k=(s="password",e="toggleIcon")=>{const t=document.getElementById(s),o=document.getElementById(e);!t||!o||(t.type==="password"?(t.type="text",o.classList.remove("fa-eye-slash"),o.classList.add("fa-eye")):(t.type="password",o.classList.remove("fa-eye"),o.classList.add("fa-eye-slash")))},M=(s="cedula")=>{const e=document.getElementById(s);e&&e.addEventListener("input",function(){this.value=this.value.replace(/[^0-9]/g,""),this.value.length>8&&(this.value=this.value.substring(0,8))})};let z=class{constructor(e,t,o="cooperativista"){this.tableSelector=e;const a=document.querySelector(e);this.table=a?a.tagName&&a.tagName.toLowerCase()==="table"?a:a.closest&&a.closest("table")?a.closest("table"):document.querySelector("table"):document.querySelector("table"),this.button=document.getElementById(t)||null,this.selectedValue=null,this.dataAttribute=o,this.table&&this.bindEvents()}bindEvents(){this.table&&this.table.addEventListener("click",e=>{const t=e.target.closest("tr");t&&t.parentNode&&t.parentNode.tagName.toLowerCase()==="tbody"&&t.closest&&t.closest("table")===this.table&&this.selectRow(t)})}selectRow(e){this.clearSelection(),e.classList.add("selected","table-primary"),this.selectedValue=e.dataset[this.dataAttribute]||e.getAttribute(`data-${this.dataAttribute}`),this.selectedValue&&this.button&&(this.button.disabled=!1)}clearSelection(){this.table.querySelectorAll("tbody tr.table-row-selectable").forEach(e=>e.classList.remove("selected","table-primary")),this.selectedValue=null,this.button&&(this.button.disabled=!0)}getSelectedValue(){return this.selectedValue}};const R=(s,e="recibos-detalle-url",t="/recibos/detalle")=>{var a;if(!s){alert("Por favor, seleccione un cooperativista primero");return}const o=((a=document.querySelector(`meta[name="${e}"]`))==null?void 0:a.getAttribute("content"))||t;window.location.href=`${o}?documento=${s}`};window.showSuccessNotification=B;window.showNotification=p;window.getCsrfToken=A;window.handleFetchError=C;window.initializeTogglePassword=S;window.togglePassword=k;window.setupCedulaValidation=M;window.TableRowSelector=z;window.openRecibo=R;document.addEventListener("DOMContentLoaded",()=>{S()});document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("remember"),e=document.getElementById("cedula"),t=document.querySelector("form"),o=document.querySelector('a[href="#"]');if(s){if(localStorage.getItem("rememberLogin")==="true"){s.checked=!0;const a=localStorage.getItem("savedUser");a&&e&&(e.value=a)}s.addEventListener("change",function(){this.checked?localStorage.setItem("rememberLogin","true"):(localStorage.removeItem("rememberLogin"),localStorage.removeItem("savedUser"))})}t&&t.addEventListener("submit",function(){if(s&&s.checked&&e){const a=e.value;localStorage.setItem("savedUser",a)}}),o&&o.addEventListener("click",function(a){a.preventDefault();const n=document.getElementById("forgotPasswordModal");n&&new bootstrap.Modal(n).show()})});function x(){const s=document.getElementById("cedula"),e=document.getElementById("password");[s,e].filter(Boolean).forEach(o=>{o.addEventListener("focus",function(){this.parentElement&&this.parentElement.classList.add("input-focused")}),o.addEventListener("blur",function(){this.parentElement&&this.parentElement.classList.remove("input-focused")})}),setupCedulaValidation("cedula")}document.addEventListener("DOMContentLoaded",x);let h;document.addEventListener("DOMContentLoaded",function(){h=new TableRowSelector(".table-row-selectable","abrirBtn","cedula");const s=document.querySelector('meta[name="success-message"]');s&&showSuccessNotification(s.getAttribute("content"))});function D(){const s=h==null?void 0:h.getSelectedValue();s&&(window.location.href=`/socios/${s}/detalle`)}window.abrirDetalle=D;window.Dropzone=window.Dropzone||{};Dropzone.autoDiscover=!1;document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("profile-image-dropzone"),e=document.querySelector(".image-upload-button");let t=null;function o(){s&&!t&&(t=new Dropzone("#profile-image-dropzone",{url:"/perfil/upload-image",paramName:"profile_image",maxFiles:1,acceptedFiles:"image/*",addRemoveLinks:!0,autoProcessQueue:!0,clickable:!0,createImageThumbnails:!0,previewTemplate:`
                    <div class="dz-preview dz-file-preview">
                        <div class="dz-image"><img data-dz-thumbnail /></div>
                        <div class="dz-details">
                            <div class="dz-size"><span data-dz-size></span></div>
                            <div class="dz-filename"><span data-dz-name></span></div>
                        </div>
                        <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>
                        <div class="dz-error-message"><span data-dz-errormessage></span></div>
                        <div class="dz-success-mark">‚úì</div>
                        <div class="dz-error-mark">‚úó</div>
                        <div class="dz-remove" data-dz-remove>Eliminar</div>
                    </div>
                `,dictDefaultMessage:"Haz clic o arrastra una imagen aqu√≠",dictRemoveFile:"Eliminar",dictCancelUpload:"Cancelar",dictUploadCanceled:"Subida cancelada",dictInvalidFileType:"Solo se permiten archivos de imagen",dictFileTooBig:"El archivo es demasiado grande (m√°ximo 2MB)",maxFilesize:2,thumbnailWidth:200,thumbnailHeight:200,headers:{"X-CSRF-TOKEN":getCsrfToken()},init:function(){const c=this;this.on("success",function(l,d){if(d.success){const u=document.getElementById("current-profile-image");u.src=d.image_url,showNotification("Imagen de perfil actualizada correctamente.","success"),s.style.display="none",e.innerHTML='<i class="fas fa-camera me-2"></i>Cambiar Imagen',setTimeout(()=>{c.removeAllFiles()},2e3)}else showNotification(d.message||"Error al subir la imagen","danger")}),this.on("error",function(l,d){let u=d;typeof d=="object"&&(u=d.message||"Error desconocido"),showNotification(`Error! No se pudo subir la imagen. ${u}`,"danger")}),this.on("sending",function(l,d,u){}),this.on("addedfile",function(l){}),this.on("removedfile",function(l){}),this.on("maxfilesexceeded",function(l){this.removeFile(l),showNotification("Solo puedes subir una imagen de perfil a la vez","warning")}),this.on("dragenter",function(){s.classList.add("dz-drag-hover")}),this.on("dragleave",function(){s.classList.remove("dz-drag-hover")}),this.on("drop",function(){s.classList.remove("dz-drag-hover")})}}))}e&&e.addEventListener("click",function(c){c.preventDefault(),c.stopPropagation(),s.style.display==="none"||!s.style.display?(t||o(),s.style.display="block",this.innerHTML='<i class="fas fa-times me-2"></i>Cancelar',setTimeout(()=>{t&&t.enable()},100)):(s.style.display="none",this.innerHTML='<i class="fas fa-camera me-2"></i>Agregar Imagen')});const a=document.getElementById("edit-profile-btn"),n=document.getElementById("save-profile-btn"),i=document.getElementById("cancel-profile-btn"),r=document.querySelectorAll(".profile-form input");a&&a.addEventListener("click",function(){r.forEach(c=>{c.classList.contains("no-edit")||(c.disabled=!1,c.classList.add("editable"))}),a.style.display="none",n.style.display="inline-block",i.style.display="inline-block"}),i&&i.addEventListener("click",function(){r.forEach(c=>{c.disabled=!0,c.classList.remove("editable")}),a.style.display="inline-block",n.style.display="none",i.style.display="none",r.forEach(c=>{const l=c.getAttribute("data-original-value");l!==null&&(c.value=l)})}),n&&n.addEventListener("click",function(){const c=document.getElementById("nombre"),l=document.getElementById("apellido"),d=document.getElementById("email"),u=document.getElementById("telefono"),E=document.getElementById("fecha_nacimiento"),m=new FormData;m.append("nombre",c?c.value:""),m.append("apellido",l?l.value:""),m.append("email",d?d.value:""),m.append("telefono",u?u.value:""),m.append("fecha_nacimiento",E?E.value:""),fetch("/perfil/update",{method:"POST",headers:{"X-CSRF-TOKEN":getCsrfToken()},body:m}).then(f=>f.json()).then(f=>{if(f.success)r.forEach(L=>{L.disabled=!0,L.classList.remove("editable")}),a.style.display="inline-block",n.style.display="none",i.style.display="none",showNotification("Datos guardados correctamente","success");else throw new Error(f.message||"Error al actualizar el perfil")}).catch(f=>{showNotification(`Error! No se pudo actualizar el perfil. ${f.message}`,"danger")})})});document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("change-password-form");s&&s.addEventListener("submit",async function(e){e.preventDefault();const t=document.getElementById("current_password"),o=document.getElementById("new_password"),a=document.getElementById("confirm_new_password");if(!t||!o||!a)return;if(o.value.length>0&&o.value.length<8){showNotification("La nueva contrase√±a debe tener al menos 8 caracteres","danger");return}if(o.value!==a.value){showNotification("Las nuevas contrase√±as no coinciden","danger");return}const n=new FormData;n.append("current_password",t.value),n.append("new_password",o.value),n.append("confirm_new_password",a.value);try{const i=await fetch("/perfil/cambiar-password",{method:"POST",headers:{"X-CSRF-TOKEN":getCsrfToken(),Accept:"application/json"},body:n}),r=await i.json();if(await handleFetchError(i,r))return;if(i.ok&&r.success){showNotification("Contrase√±a actualizada correctamente","success"),s.reset(),setTimeout(()=>{window.location.href="/"},1200);return}showNotification(r.message||"Error al cambiar la contrase√±a","danger")}catch{showNotification("Error de conexi√≥n al cambiar la contrase√±a","danger")}})});function $(){document.getElementById("approveModal").style.display="block"}function w(){document.getElementById("approveModal").style.display="none"}function q(){document.getElementById("rejectModal").style.display="block"}function v(){document.getElementById("rejectModal").style.display="none"}function P(){w(),document.getElementById("approveForm").submit()}function F(){v(),document.getElementById("rejectForm").submit()}function T(){document.getElementById("deleteModal").style.display="block"}function y(){document.getElementById("deleteModal").style.display="none"}async function O(){const e=document.getElementById("deleteForm").getAttribute("action");if(!e){y();return}y();try{const t=await fetch(e,{method:"POST",credentials:"same-origin",headers:{"X-CSRF-TOKEN":getCsrfToken(),Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(t.status===401){showSuccessNotification("Sesi√≥n expirada. Por favor, reingrese al sistema.");return}let o={};try{o=await t.json()}catch{o={}}if(t.ok&&(o.success===!0||Object.keys(o).length===0))showSuccessNotification("Usuario eliminado correctamente"),await j();else{const n=o.error||o.message||"No se pudo eliminar el usuario";showSuccessNotification(n)}}catch{}}async function j(){try{const s=await fetch("/socios/aprobados",{method:"GET",credentials:"same-origin",headers:{"X-CSRF-TOKEN":getCsrfToken(),Accept:"text/html"}});if(s.status===401){showSuccessNotification("Sesi√≥n terminada. Por favor, reingrese al sistema.");return}const e=await s.text(),a=new DOMParser().parseFromString(e,"text/html").querySelector("#cooperativistasTable tbody"),n=document.querySelector("#cooperativistasTable");if(n&&a){n.querySelector("tbody").replaceWith(a.cloneNode(!0)),I();const r=document.getElementById("accionBtn");r&&(r.disabled=!0)}}catch{}}function I(){const s=document.getElementById("cooperativistasTable");if(!s)return;let e=null;s.querySelectorAll("tr.table-row-selectable").forEach(o=>{o.addEventListener("click",function(){s.querySelectorAll("tr.table-row-selectable").forEach(n=>n.classList.remove("selected")),this.classList.add("selected"),e=this.getAttribute("data-cedula");const a=document.getElementById("accionBtn");a&&(a.disabled=!1)})});const t=document.getElementById("accionBtn");t&&(t.onclick=function(){if(!e)return;const o=document.getElementById("deleteForm");o.action="/socios/"+e+"/eliminar",T()})}window.showApproveModal=$;window.hideApproveModal=w;window.showRejectModal=q;window.hideRejectModal=v;window.approveUser=P;window.rejectUser=F;window.showDeleteModal=T;window.hideDeleteModal=y;window.deleteUser=O;document.addEventListener("DOMContentLoaded",function(){const s=document.querySelector('meta[name="success-message"]');s&&showSuccessNotification(s.getAttribute("content")),I()});window.onclick=function(s){const e=document.getElementById("approveModal"),t=document.getElementById("rejectModal");s.target===e&&w(),s.target===t&&v();const o=document.getElementById("deleteModal");s.target===o&&y()};class N{constructor(){this.cooperativistaSeleccionado=null,this.init()}init(){this.bindEvents(),this.bindRecibosEvents(),this.setupChannels()}bindEvents(){document.addEventListener("click",e=>{if(e.target.matches(".btn-aprobar, .btn-aprobar *")){e.preventDefault();const t=e.target.closest(".btn-aprobar");t&&this.aprobarSocio(t)}})}bindRecibosEvents(){document.querySelector("#recibosTable")&&(this.recibosSelector=new TableRowSelector("#recibosTable","abrirReciboBtn","cooperativista"),window.abrirRecibo=()=>{var o;const t=(o=this.recibosSelector)==null?void 0:o.getSelectedValue();openRecibo(t,null,"/recibos/detalle")})}async aprobarSocio(e){const t=e.dataset.cedula,o=e.closest("form");if(!t||!o)return;e.disabled=!0;const a=e.innerHTML;e.innerHTML='<i class="fas fa-spinner fa-spin"></i> Procesando datos...';try{const n=new FormData(o),r=await(await fetch(o.action,{method:"POST",body:n,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":getCsrfToken()}})).json();if(r.success)this.removerDeTablaPendientes(t),this.agregarATablasAprobados(r.socio),this.mostrarNotificacion("Usuario aprobado con √©xito","success"),this.actualizarContadores();else throw new Error(r.message||"Error al aprobar usuario")}catch(n){this.mostrarNotificacion(n.message||"Error al procesar la solicitud","error"),e.disabled=!1,e.innerHTML=a}}removerDeTablaPendientes(e){const t=document.querySelector(`tr[data-cedula="${e}"]`);t&&(t.style.transition="opacity 0.3s ease",t.style.opacity="0",setTimeout(()=>{t.remove()},300))}agregarATablasAprobados(e){this.agregarATablaCooperativistas(e),this.agregarATablaRecibos(e)}agregarATablaCooperativistas(e){const t=document.querySelector(".table tbody");if(t&&window.location.pathname.includes("pendientes")){if(t.querySelector(`tr[data-cedula="${e.cedula}"]`))return;const a=document.createElement("tr");a.dataset.cedula=e.cedula,a.innerHTML=`
                <td>${e.nombre||"N/A"}</td>
                <td>${e.apellido||"N/A"}</td>
                <td>${e.cedula||"N/A"}</td>
                <td>${e.telefono||"N/A"}</td>
                <td>${e.email||"N/A"}</td>
                <td>${e.updated_at||"N/A"}</td>
                <td>${e.estado_pago_badge||'<span class="badge bg-secondary">Pendiente</span>'}</td>
                <td>${e.horas_trabajadas_badge||'<span class="badge bg-info">40 hrs</span>'}</td>
            `,a.style.opacity="0",a.style.transition="opacity 0.3s ease",t.appendChild(a),setTimeout(()=>{a.style.opacity="1"},100)}}agregarATablaRecibos(e){var o;const t=(o=document.querySelector(".recibo-row"))==null?void 0:o.closest("tbody");if(t){if(t.querySelector(`tr[data-cooperativista="${e.cedula}"]`))return;const n=document.createElement("tr");n.className="recibo-row",n.dataset.cooperativista=e.cedula,n.innerHTML=`
                <td>${e.nombre||"N/A"}</td>
                <td>${e.apellido||"N/A"}</td>
                <td>${e.cedula||"N/A"}</td>
                <td>${e.telefono||"N/A"}</td>
                <td>${e.email||"N/A"}</td>
                <td>${e.horas_trabajadas_badge||'<span class="badge bg-info">40 hrs</span>'}</td>
                <td>${e.estado_pago_badge||'<span class="badge bg-secondary">Pendiente</span>'}</td>
            `,n.style.opacity="0",n.style.transition="opacity 0.3s ease",t.appendChild(n),setTimeout(()=>{n.style.opacity="1"},100),this.bindRecibosRowEvents(n)}}bindRecibosRowEvents(e){e.addEventListener("click",function(){document.querySelectorAll(".recibo-row.selected").forEach(o=>{o.classList.remove("selected")}),this.classList.add("selected");const t=document.getElementById("abrirReciboBtn");t&&(t.disabled=!1),window.cooperativistaSeleccionado!==void 0&&(window.cooperativistaSeleccionado=this.dataset.cooperativista)})}mostrarNotificacion(e,t="info"){var a;const o=document.createElement("div");o.className=`alert alert-${t==="success"?"success":"danger"} position-fixed top-0 end-0 m-3`,o.style.zIndex="9999",o.innerHTML=`
            <i class="fas fa-${t==="success"?"check-circle":"exclamation-circle"}"></i>
            ${e}
            <button type="button" class="btn-close" aria-label="Close"></button>
        `,document.body.appendChild(o),setTimeout(()=>{o.style.opacity="0",setTimeout(()=>{o.parentNode&&o.parentNode.removeChild(o)},300)},5e3),(a=o.querySelector(".btn-close"))==null||a.addEventListener("click",()=>{o.style.opacity="0",setTimeout(()=>{o.parentNode&&o.parentNode.removeChild(o)},300)})}actualizarContadores(){const e=document.querySelector(".badge-counter");if(e){const t=parseInt(e.textContent)-1;e.textContent=Math.max(0,t),t===0&&(e.style.display="none")}}setupChannels(){}}document.addEventListener("DOMContentLoaded",function(){new N});window.AprobacionSocios=N;class _{constructor(){var e;this.input=document.getElementById("searchCedula"),this.clear=document.getElementById("clearSearch"),this.tabl=document.getElementById("cooperativistasTable"),this.tbody=(e=this.tabl)==null?void 0:e.querySelector("tbody"),this.input&&this.tbody&&(this.rows=Array.from(this.tbody.querySelectorAll("tr")),this.bind())}bind(){this.input.addEventListener("input",e=>this.search(e.target.value.trim())),this.clear.addEventListener("click",e=>this.reset()),this.input.addEventListener("keydown",e=>{e.key==="Escape"&&this.reset()})}search(e){if(!e)return this.reset();let t=!1;this.rows.forEach(o=>{if(o.querySelector("[colspan]")){o.style.display="none";return}const n=(o.getAttribute("data-cedula")||"").includes(e);o.style.display=n?"":"none",n&&(t=!0)}),t?this.hideNoResults():this.showNoResults(e)}reset(){this.input.value="",this.rows.forEach(e=>e.style.display=""),this.hideNoResults(),this.input.focus()}showNoResults(e){this.hideNoResults();const t=document.createElement("tr");t.className="no-results-row",t.innerHTML=`<td colspan="8" class="text-center text-muted py-4"><i class="fas fa-search me-2"></i>No se encontraron cooperativistas con la c√©dula "<strong>${e}</strong>"</td>`,this.tbody.appendChild(t)}hideNoResults(){const e=this.tbody.querySelector(".no-results-row");e&&e.remove()}}let g;document.addEventListener("DOMContentLoaded",()=>{new _,g=new TableRowSelector(".table-row-selectable","abrirDetalleBtn","cedula"),document.getElementById("cooperativistasTable")||(window.abrirDetalle=()=>{const s=g==null?void 0:g.getSelectedValue();s&&(window.location.href=`/socios/${s}/detalle`)})});let b;document.addEventListener("DOMContentLoaded",function(){b=new TableRowSelector(".table-row-selectable","abrirReciboBtn","cooperativista"),V()});function H(){const s=b==null?void 0:b.getSelectedValue();openRecibo(s,"recibos-detalle-url")}function V(){const s=document.querySelectorAll(".estado-select"),e=document.getElementById("guardarCambiosBtn");if(!e)return;const t=new Map;e.textContent.trim(),s.forEach(o=>{o.addEventListener("change",function(){const a=this.dataset.id,n=this.value,i=this.dataset.originalEstado;n!==i?t.set(a,{nuevoEstado:n,select:this}):t.delete(a),t.size>0?e.disabled=!1:e.disabled=!0})}),e.addEventListener("click",async function(){if(t.size===0)return;e.disabled=!0;let o=!0,a=0;for(const[n,i]of t.entries())try{const r=await fetch(`/recibos/actualizar-estado/${n}`,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":getCsrfToken()},body:JSON.stringify({estado:i.nuevoEstado})}),c=await r.json();r.ok&&c.success?(i.select.dataset.originalEstado=i.nuevoEstado,a++):(o=!1,i.select.value=i.select.dataset.originalEstado)}catch{o=!1,i.select.value=i.select.dataset.originalEstado}if(t.clear(),e.disabled=!0,o&&a>0){const n=a===1?"Pago aceptado con √©xito":`${a} pagos actualizados con √©xito`;showSuccessNotification(n)}else a>0?showSuccessNotification(`${a} pagos actualizados. Algunos cambios no se pudieron guardar.`):showSuccessNotification("No se pudo actualizar ning√∫n pago. Por favor, int√©ntelo de nuevo.")})}window.abrirRecibo=H;(function(){const s="darkModeFloatingToggle",e='link[href*="font-awesome"],link[href*="fontawesome"]',t=i=>{try{localStorage.setItem("darkMode",i?"true":"false")}catch{}},o=i=>{const r=document.getElementById(s);if(!r)return;r.setAttribute("aria-pressed",i?"true":"false"),r.setAttribute("aria-label",i?"Activado modo oscuro":"Activado modo claro"),r.title=i?"Activado modo oscuro":"Activado modo claro";let c=r.querySelector("i");c||(c=document.createElement("i"),c.className="fa-solid",r.insertBefore(c,r.firstChild)),!!document.querySelector(e)||c.classList.contains("fa-solid")?(c.classList.toggle("fa-sun",!i),c.classList.toggle("fa-moon",!!i),c.textContent=""):(c.className="",c.textContent=i?"üåô":"‚òÄÔ∏è")},a=i=>{document.body.classList.toggle("dark",!!i),t(i),o(!!i)};window.toggleDarkMode=()=>(a(!document.body.classList.contains("dark")),document.body.classList.contains("dark"));function n(){let i=null;try{i=localStorage.getItem("darkMode")}catch{}i==="true"||i==="false"?a(i==="true"):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&a(!0);const r=document.getElementById(s);r&&!r.getAttribute("onclick")&&r.addEventListener("click",c=>{c.preventDefault(),window.toggleDarkMode()})}document.addEventListener("DOMContentLoaded",n)})();(function(){function s(){var e=document.getElementById("sidebarHamburger"),t=document.getElementById("mainSidebar");if(!e||!t)return;function o(){t.classList.add("open"),document.body.style.overflow="hidden",e&&e.setAttribute("aria-expanded","true")}function a(){t.classList.remove("open"),document.body.style.overflow="",e&&e.setAttribute("aria-expanded","false")}e.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),t.classList.contains("open")?a():o()}),document.addEventListener("click",function(n){t.classList.contains("open")&&(t.contains(n.target)||e.contains(n.target)||a())}),document.addEventListener("keydown",function(n){(n.key==="Escape"||n.key==="Esc")&&t.classList.contains("open")&&a()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s):s()})();
