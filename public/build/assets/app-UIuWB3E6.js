const B=(a,e=4e3)=>{let t=document.getElementById("successNotification"),s=document.getElementById("successMessage");if(t&&s){s.textContent=a,t.style.display="block",setTimeout(()=>t.style.display="none",e);return}t=document.createElement("div"),t.className="success-notification show",t.innerHTML=`<i class="fas fa-check-circle" style="margin-right:0.5rem"></i><span class="js-temp-success">${a}</span>`,document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.remove()},e)};let T=class{constructor(e,t,s="cooperativista"){this.tableSelector=e;const o=document.querySelector(e);this.table=o?o.tagName&&o.tagName.toLowerCase()==="table"?o:o.closest&&o.closest("table")?o.closest("table"):document.querySelector("table"):document.querySelector("table"),this.button=document.getElementById(t)||null,this.selectedValue=null,this.dataAttribute=s,this.table&&this.bindEvents()}bindEvents(){this.table&&this.table.addEventListener("click",e=>{const t=e.target.closest("tr");t&&t.parentNode&&t.parentNode.tagName.toLowerCase()==="tbody"&&t.closest&&t.closest("table")===this.table&&this.selectRow(t)})}selectRow(e){this.clearSelection(),e.classList.add("selected","table-primary"),this.selectedValue=e.dataset[this.dataAttribute]||e.getAttribute(`data-${this.dataAttribute}`),this.selectedValue&&this.button&&(this.button.disabled=!1)}clearSelection(){this.table.querySelectorAll("tbody tr.table-row-selectable").forEach(e=>e.classList.remove("selected","table-primary")),this.selectedValue=null,this.button&&(this.button.disabled=!0)}getSelectedValue(){return this.selectedValue}};const M=(a,e="recibos-detalle-url",t="/recibos/detalle")=>{var o;if(!a){alert("Por favor, seleccione un cooperativista primero");return}const s=((o=document.querySelector(`meta[name="${e}"]`))==null?void 0:o.getAttribute("content"))||t;window.location.href=`${s}?documento=${a}`};window.showSuccessNotification=B;window.TableRowSelector=T;window.openRecibo=M;document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("remember"),e=document.getElementById("cedula"),t=document.querySelector("form"),s=document.querySelector('a[href="#"]');if(a){if(localStorage.getItem("rememberLogin")==="true"){a.checked=!0;const o=localStorage.getItem("savedUser");o&&e&&(e.value=o)}a.addEventListener("change",function(){this.checked?localStorage.setItem("rememberLogin","true"):(localStorage.removeItem("rememberLogin"),localStorage.removeItem("savedUser"))})}t&&t.addEventListener("submit",function(){if(a&&a.checked&&e){const o=e.value;localStorage.setItem("savedUser",o)}}),s&&s.addEventListener("click",function(o){o.preventDefault();const n=document.getElementById("forgotPasswordModal");n&&new bootstrap.Modal(n).show()})});function N(){const a=document.getElementById("password"),e=document.getElementById("toggleIcon");a.type==="password"?(a.type="text",e.classList.remove("fa-eye-slash"),e.classList.add("fa-eye")):(a.type="password",e.classList.remove("fa-eye"),e.classList.add("fa-eye-slash"))}window.togglePassword=N;function k(){const a=document.getElementById("cedula"),e=document.getElementById("password");[a,e].filter(Boolean).forEach(s=>{s.addEventListener("focus",function(){this.parentElement&&this.parentElement.classList.add("input-focused")}),s.addEventListener("blur",function(){this.parentElement&&this.parentElement.classList.remove("input-focused")})}),a&&a.addEventListener("input",function(){this.value=this.value.replace(/[^0-9]/g,""),this.value.length>8&&(this.value=this.value.substring(0,8))})}document.addEventListener("DOMContentLoaded",k);let g;document.addEventListener("DOMContentLoaded",function(){g=new TableRowSelector(".table-row-selectable","abrirBtn","cedula");const a=document.querySelector('meta[name="success-message"]');a&&showSuccessNotification(a.getAttribute("content"))});function C(){const a=g==null?void 0:g.getSelectedValue();a&&(window.location.href=`/socios/${a}/detalle`)}window.abrirDetalle=C;window.Dropzone=window.Dropzone||{};Dropzone.autoDiscover=!1;document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("profile-image-dropzone"),e=document.querySelector(".image-upload-button");let t=null;function s(){a&&!t&&(t=new Dropzone("#profile-image-dropzone",{url:"/perfil/upload-image",paramName:"profile_image",maxFiles:1,acceptedFiles:"image/*",addRemoveLinks:!0,autoProcessQueue:!0,clickable:!0,createImageThumbnails:!0,previewTemplate:`
                    <div class="dz-preview dz-file-preview">
                        <div class="dz-image"><img data-dz-thumbnail /></div>
                        <div class="dz-details">
                            <div class="dz-size"><span data-dz-size></span></div>
                            <div class="dz-filename"><span data-dz-name></span></div>
                        </div>
                        <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>
                        <div class="dz-error-message"><span data-dz-errormessage></span></div>
                        <div class="dz-success-mark">‚úì</div>
                        <div class="dz-error-mark">‚úó</div>
                        <div class="dz-remove" data-dz-remove>Eliminar</div>
                    </div>
                `,dictDefaultMessage:"Haz clic o arrastra una imagen aqu√≠",dictRemoveFile:"Eliminar",dictCancelUpload:"Cancelar",dictUploadCanceled:"Subida cancelada",dictInvalidFileType:"Solo se permiten archivos de imagen",dictFileTooBig:"El archivo es demasiado grande (m√°ximo 2MB)",maxFilesize:2,thumbnailWidth:200,thumbnailHeight:200,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},init:function(){const i=this;this.on("success",function(d,l){if(l.success){const m=document.getElementById("current-profile-image");m.src=l.image_url,u("Imagen de perfil actualizada correctamente."),a.style.display="none",e.innerHTML='<i class="fas fa-camera me-2"></i>Cambiar Imagen',setTimeout(()=>{i.removeAllFiles()},2e3)}else u(l.message||"Error al subir la imagen")}),this.on("error",function(d,l){let m=l;typeof l=="object"&&(m=l.message||"Error desconocido"),u(`Error! No se pudo subir la imagen. ${m}`)}),this.on("sending",function(d,l,m){}),this.on("addedfile",function(d){}),this.on("removedfile",function(d){}),this.on("maxfilesexceeded",function(d){this.removeFile(d),u("Solo puedes subir una imagen de perfil a la vez")}),this.on("dragenter",function(){a.classList.add("dz-drag-hover")}),this.on("dragleave",function(){a.classList.remove("dz-drag-hover")}),this.on("drop",function(){a.classList.remove("dz-drag-hover")})}}))}e&&e.addEventListener("click",function(i){i.preventDefault(),i.stopPropagation(),a.style.display==="none"||!a.style.display?(t||s(),a.style.display="block",this.innerHTML='<i class="fas fa-times me-2"></i>Cancelar',setTimeout(()=>{t&&t.enable()},100)):(a.style.display="none",this.innerHTML='<i class="fas fa-camera me-2"></i>Agregar Imagen')});const o=document.getElementById("edit-profile-btn"),n=document.getElementById("save-profile-btn"),c=document.getElementById("cancel-profile-btn"),r=document.querySelectorAll(".profile-form input");o&&o.addEventListener("click",function(){r.forEach(i=>{i.classList.contains("no-edit")||(i.disabled=!1,i.classList.add("editable"))}),o.style.display="none",n.style.display="inline-block",c.style.display="inline-block"}),c&&c.addEventListener("click",function(){r.forEach(i=>{i.disabled=!0,i.classList.remove("editable")}),o.style.display="inline-block",n.style.display="none",c.style.display="none",r.forEach(i=>{const d=i.getAttribute("data-original-value");d!==null&&(i.value=d)})}),n&&n.addEventListener("click",function(){const i=document.getElementById("nombre"),d=document.getElementById("apellido"),l=document.getElementById("email"),m=document.getElementById("telefono"),E=document.getElementById("fecha_nacimiento"),f=new FormData;f.append("nombre",i?i.value:""),f.append("apellido",d?d.value:""),f.append("email",l?l.value:""),f.append("telefono",m?m.value:""),f.append("fecha_nacimiento",E?E.value:""),fetch("/perfil/update",{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:f}).then(p=>p.json()).then(p=>{if(p.success)r.forEach(S=>{S.disabled=!0,S.classList.remove("editable")}),o.style.display="inline-block",n.style.display="none",c.style.display="none",u("Datos guardados correctamente");else throw new Error(p.message||"Error al actualizar el perfil")}).catch(p=>{u(`Error! No se pudo actualizar el perfil. ${p.message}`)})})});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".toggle-password").forEach(e=>{e.addEventListener("click",function(t){const s=e.getAttribute("data-target");if(!s)return;const o=document.querySelector(s);if(o)if(o.type==="password"){o.type="text";const n=e.querySelector("i");n&&(n.classList.remove("fa-eye"),n.classList.add("fa-eye-slash")),e.setAttribute("aria-label","Ocultar contrase√±a")}else{o.type="password";const n=e.querySelector("i");n&&(n.classList.remove("fa-eye-slash"),n.classList.add("fa-eye")),e.setAttribute("aria-label","Mostrar contrase√±a")}})})});function u(a,e){const t=document.createElement("div");t.className="success-notification",t.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: #28a745;
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 0.375rem;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        z-index: 1060;
        display: flex;
        align-items: center;
        min-width: 300px;
        animation: slideInRight 0.3s ease-out;
    `,t.innerHTML=`
        <i class="fas fa-check-circle" style="margin-right: 0.5rem; font-size: 1.2rem;"></i>
        <span>${a}</span>
    `,document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.remove()},4e3)}document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("change-password-form");a&&a.addEventListener("submit",async function(e){e.preventDefault();const t=document.getElementById("current_password"),s=document.getElementById("new_password"),o=document.getElementById("confirm_new_password");if(!t||!s||!o)return;const n=new FormData;n.append("current_password",t.value),n.append("new_password",s.value),n.append("confirm_new_password",o.value);try{const r=await(await fetch("/perfil/cambiar-password",{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json"},body:n})).json();r.success?(u("Contrase√±a actualizada correctamente","success"),a.reset(),setTimeout(()=>{window.location.href="/"},1200)):u(r.message||"Error al cambiar la contrase√±a","danger")}catch{u("Error de conexi√≥n al cambiar la contrase√±a")}})});function R(){document.getElementById("approveModal").style.display="block"}function v(){document.getElementById("approveModal").style.display="none"}function z(){document.getElementById("rejectModal").style.display="block"}function w(){document.getElementById("rejectModal").style.display="none"}function x(){v(),document.getElementById("approveForm").submit()}function q(){w(),document.getElementById("rejectForm").submit()}function L(){document.getElementById("deleteModal").style.display="block"}function y(){document.getElementById("deleteModal").style.display="none"}async function D(){const e=document.getElementById("deleteForm").getAttribute("action");if(!e){y();return}y();try{const t=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),s=await fetch(e,{method:"POST",credentials:"same-origin",headers:{"X-CSRF-TOKEN":t,Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(s.status===401){showSuccessNotification("Sesi√≥n expirada. Por favor, reingrese al sistema.");return}let o={};try{o=await s.json()}catch{o={}}if(s.ok&&(o.success===!0||Object.keys(o).length===0))showSuccessNotification("Usuario eliminado correctamente"),await $();else{const c=o.error||o.message||"No se pudo eliminar el usuario";showSuccessNotification(c)}}catch{}}async function $(){try{const a=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),e=await fetch("/socios/aprobados",{method:"GET",credentials:"same-origin",headers:{"X-CSRF-TOKEN":a,Accept:"text/html"}});if(e.status===401){showSuccessNotification("Sesi√≥n terminada. Por favor, reingrese al sistema.");return}const t=await e.text(),n=new DOMParser().parseFromString(t,"text/html").querySelector("#cooperativistasTable tbody"),c=document.querySelector("#cooperativistasTable");if(c&&n){c.querySelector("tbody").replaceWith(n.cloneNode(!0)),I();const i=document.getElementById("accionBtn");i&&(i.disabled=!0)}}catch{}}function I(){const a=document.getElementById("cooperativistasTable");if(!a)return;let e=null;a.querySelectorAll("tr.table-row-selectable").forEach(s=>{s.addEventListener("click",function(){a.querySelectorAll("tr.table-row-selectable").forEach(n=>n.classList.remove("selected")),this.classList.add("selected"),e=this.getAttribute("data-cedula");const o=document.getElementById("accionBtn");o&&(o.disabled=!1)})});const t=document.getElementById("accionBtn");t&&(t.onclick=function(){if(!e)return;const s=document.getElementById("deleteForm");s.action="/socios/"+e+"/eliminar",L()})}window.showApproveModal=R;window.hideApproveModal=v;window.showRejectModal=z;window.hideRejectModal=w;window.approveUser=x;window.rejectUser=q;window.showDeleteModal=L;window.hideDeleteModal=y;window.deleteUser=D;document.addEventListener("DOMContentLoaded",function(){const a=document.querySelector('meta[name="success-message"]');a&&showSuccessNotification(a.getAttribute("content")),I()});window.onclick=function(a){const e=document.getElementById("approveModal"),t=document.getElementById("rejectModal");a.target===e&&v(),a.target===t&&w();const s=document.getElementById("deleteModal");a.target===s&&y()};class A{constructor(){this.cooperativistaSeleccionado=null,this.init()}init(){this.bindEvents(),this.bindRecibosEvents(),this.setupChannels()}bindEvents(){document.addEventListener("click",e=>{if(e.target.matches(".btn-aprobar, .btn-aprobar *")){e.preventDefault();const t=e.target.closest(".btn-aprobar");t&&this.aprobarSocio(t)}})}bindRecibosEvents(){document.querySelector("#recibosTable")&&(this.recibosSelector=new TableRowSelector("#recibosTable","abrirReciboBtn","cooperativista"),window.abrirRecibo=()=>{var s;const t=(s=this.recibosSelector)==null?void 0:s.getSelectedValue();openRecibo(t,null,"/recibos/detalle")})}async aprobarSocio(e){var n;const t=e.dataset.cedula,s=e.closest("form");if(!t||!s)return;e.disabled=!0;const o=e.innerHTML;e.innerHTML='<i class="fas fa-spinner fa-spin"></i> Procesando datos...';try{const c=new FormData(s),i=await(await fetch(s.action,{method:"POST",body:c,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":((n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content"))||""}})).json();if(i.success)this.removerDeTablaPendientes(t),this.agregarATablasAprobados(i.socio),this.mostrarNotificacion("Usuario aprobado con √©xito","success"),this.actualizarContadores();else throw new Error(i.message||"Error al aprobar usuario")}catch(c){this.mostrarNotificacion(c.message||"Error al procesar la solicitud","error"),e.disabled=!1,e.innerHTML=o}}removerDeTablaPendientes(e){const t=document.querySelector(`tr[data-cedula="${e}"]`);t&&(t.style.transition="opacity 0.3s ease",t.style.opacity="0",setTimeout(()=>{t.remove()},300))}agregarATablasAprobados(e){this.agregarATablaCooperativistas(e),this.agregarATablaRecibos(e)}agregarATablaCooperativistas(e){const t=document.querySelector(".table tbody");if(t&&window.location.pathname.includes("pendientes")){if(t.querySelector(`tr[data-cedula="${e.cedula}"]`))return;const o=document.createElement("tr");o.dataset.cedula=e.cedula,o.innerHTML=`
                <td>${e.nombre||"N/A"}</td>
                <td>${e.apellido||"N/A"}</td>
                <td>${e.cedula||"N/A"}</td>
                <td>${e.telefono||"N/A"}</td>
                <td>${e.email||"N/A"}</td>
                <td>${e.updated_at||"N/A"}</td>
                <td>${e.estado_pago_badge||'<span class="badge bg-secondary">Pendiente</span>'}</td>
                <td>${e.horas_trabajadas_badge||'<span class="badge bg-info">40 hrs</span>'}</td>
            `,o.style.opacity="0",o.style.transition="opacity 0.3s ease",t.appendChild(o),setTimeout(()=>{o.style.opacity="1"},100)}}agregarATablaRecibos(e){var s;const t=(s=document.querySelector(".recibo-row"))==null?void 0:s.closest("tbody");if(t){if(t.querySelector(`tr[data-cooperativista="${e.cedula}"]`))return;const n=document.createElement("tr");n.className="recibo-row",n.dataset.cooperativista=e.cedula,n.innerHTML=`
                <td>${e.nombre||"N/A"}</td>
                <td>${e.apellido||"N/A"}</td>
                <td>${e.cedula||"N/A"}</td>
                <td>${e.telefono||"N/A"}</td>
                <td>${e.email||"N/A"}</td>
                <td>${e.horas_trabajadas_badge||'<span class="badge bg-info">40 hrs</span>'}</td>
                <td>${e.estado_pago_badge||'<span class="badge bg-secondary">Pendiente</span>'}</td>
            `,n.style.opacity="0",n.style.transition="opacity 0.3s ease",t.appendChild(n),setTimeout(()=>{n.style.opacity="1"},100),this.bindRecibosRowEvents(n)}}bindRecibosRowEvents(e){e.addEventListener("click",function(){document.querySelectorAll(".recibo-row.selected").forEach(s=>{s.classList.remove("selected")}),this.classList.add("selected");const t=document.getElementById("abrirReciboBtn");t&&(t.disabled=!1),window.cooperativistaSeleccionado!==void 0&&(window.cooperativistaSeleccionado=this.dataset.cooperativista)})}mostrarNotificacion(e,t="info"){var o;const s=document.createElement("div");s.className=`alert alert-${t==="success"?"success":"danger"} position-fixed top-0 end-0 m-3`,s.style.zIndex="9999",s.innerHTML=`
            <i class="fas fa-${t==="success"?"check-circle":"exclamation-circle"}"></i>
            ${e}
            <button type="button" class="btn-close" aria-label="Close"></button>
        `,document.body.appendChild(s),setTimeout(()=>{s.style.opacity="0",setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},300)},5e3),(o=s.querySelector(".btn-close"))==null||o.addEventListener("click",()=>{s.style.opacity="0",setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},300)})}actualizarContadores(){const e=document.querySelector(".badge-counter");if(e){const t=parseInt(e.textContent)-1;e.textContent=Math.max(0,t),t===0&&(e.style.display="none")}}setupChannels(){}}document.addEventListener("DOMContentLoaded",function(){new A});window.AprobacionSocios=A;class P{constructor(){var e;this.input=document.getElementById("searchCedula"),this.clear=document.getElementById("clearSearch"),this.tabl=document.getElementById("cooperativistasTable"),this.tbody=(e=this.tabl)==null?void 0:e.querySelector("tbody"),this.input&&this.tbody&&(this.rows=Array.from(this.tbody.querySelectorAll("tr")),this.bind())}bind(){this.input.addEventListener("input",e=>this.search(e.target.value.trim())),this.clear.addEventListener("click",e=>this.reset()),this.input.addEventListener("keydown",e=>{e.key==="Escape"&&this.reset()})}search(e){if(!e)return this.reset();let t=!1;this.rows.forEach(s=>{if(s.querySelector("[colspan]")){s.style.display="none";return}const n=(s.getAttribute("data-cedula")||"").includes(e);s.style.display=n?"":"none",n&&(t=!0)}),t?this.hideNoResults():this.showNoResults(e)}reset(){this.input.value="",this.rows.forEach(e=>e.style.display=""),this.hideNoResults(),this.input.focus()}showNoResults(e){this.hideNoResults();const t=document.createElement("tr");t.className="no-results-row",t.innerHTML=`<td colspan="8" class="text-center text-muted py-4"><i class="fas fa-search me-2"></i>No se encontraron cooperativistas con la c√©dula "<strong>${e}</strong>"</td>`,this.tbody.appendChild(t)}hideNoResults(){const e=this.tbody.querySelector(".no-results-row");e&&e.remove()}}let b;document.addEventListener("DOMContentLoaded",()=>{new P,b=new TableRowSelector(".table-row-selectable","abrirDetalleBtn","cedula"),document.getElementById("cooperativistasTable")||(window.abrirDetalle=()=>{const a=b==null?void 0:b.getSelectedValue();a&&(window.location.href=`/socios/${a}/detalle`)})});let h;document.addEventListener("DOMContentLoaded",function(){h=new TableRowSelector(".table-row-selectable","abrirReciboBtn","cooperativista"),O()});function F(){const a=h==null?void 0:h.getSelectedValue();openRecibo(a,"recibos-detalle-url")}function O(){const a=document.querySelectorAll(".estado-select"),e=document.getElementById("guardarCambiosBtn");if(!e)return;const t=new Map;e.textContent.trim(),a.forEach(s=>{s.addEventListener("change",function(){const o=this.dataset.id,n=this.value,c=this.dataset.originalEstado;n!==c?t.set(o,{nuevoEstado:n,select:this}):t.delete(o),t.size>0?e.disabled=!1:e.disabled=!0})}),e.addEventListener("click",async function(){var n;if(t.size===0)return;e.disabled=!0;let s=!0,o=0;for(const[c,r]of t.entries())try{const i=await fetch(`/recibos/actualizar-estado/${c}`,{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.content)||""},body:JSON.stringify({estado:r.nuevoEstado})}),d=await i.json();i.ok&&d.success?(r.select.dataset.originalEstado=r.nuevoEstado,o++):(s=!1,r.select.value=r.select.dataset.originalEstado)}catch{s=!1,r.select.value=r.select.dataset.originalEstado}if(t.clear(),e.disabled=!0,s&&o>0){const c=o===1?"Pago aceptado con √©xito":`${o} pagos actualizados con √©xito`;showSuccessNotification(c)}else o>0?showSuccessNotification(`${o} pagos actualizados. Algunos cambios no se pudieron guardar.`):showSuccessNotification("No se pudo actualizar ning√∫n pago. Por favor, int√©ntelo de nuevo.")})}window.abrirRecibo=F;(function(){const a="darkModeFloatingToggle",e='link[href*="font-awesome"],link[href*="fontawesome"]',t=c=>{try{localStorage.setItem("darkMode",c?"true":"false")}catch{}},s=c=>{const r=document.getElementById(a);if(!r)return;r.setAttribute("aria-pressed",c?"true":"false"),r.setAttribute("aria-label",c?"Activado modo oscuro":"Activado modo claro"),r.title=c?"Activado modo oscuro":"Activado modo claro";let i=r.querySelector("i");i||(i=document.createElement("i"),i.className="fa-solid",r.insertBefore(i,r.firstChild)),!!document.querySelector(e)||i.classList.contains("fa-solid")?(i.classList.toggle("fa-sun",!c),i.classList.toggle("fa-moon",!!c),i.textContent=""):(i.className="",i.textContent=c?"üåô":"‚òÄÔ∏è")},o=c=>{document.body.classList.toggle("dark",!!c),t(c),s(!!c)};window.toggleDarkMode=()=>(o(!document.body.classList.contains("dark")),document.body.classList.contains("dark"));function n(){let c=null;try{c=localStorage.getItem("darkMode")}catch{}c==="true"||c==="false"?o(c==="true"):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&o(!0);const r=document.getElementById(a);r&&!r.getAttribute("onclick")&&r.addEventListener("click",i=>{i.preventDefault(),window.toggleDarkMode()})}document.addEventListener("DOMContentLoaded",n)})();(function(){function a(){var e=document.getElementById("sidebarHamburger"),t=document.getElementById("mainSidebar");if(!e||!t)return;function s(){t.classList.add("open"),document.body.style.overflow="hidden",e&&e.setAttribute("aria-expanded","true")}function o(){t.classList.remove("open"),document.body.style.overflow="",e&&e.setAttribute("aria-expanded","false")}e.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),t.classList.contains("open")?o():s()}),document.addEventListener("click",function(n){t.classList.contains("open")&&(t.contains(n.target)||e.contains(n.target)||o())}),document.addEventListener("keydown",function(n){(n.key==="Escape"||n.key==="Esc")&&t.classList.contains("open")&&o()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()})();
